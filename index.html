<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Confidential Viewer</title>
  
  <!-- CSS -->
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="anti-screenshot.css">
  
  <!-- PDF.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js"></script>
  
  <!-- Web3 Dependencies - Apenas Web3 para MetaMask -->
  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
  
  <!-- Magic SDK -->
  <script src="https://cdn.jsdelivr.net/npm/magic-sdk/dist/magic.js"></script>
  <!-- Script de verificação de integridade do sistema -->
  <script src="system-integrity.js"></script>
  
  <!-- Script para corrigir ícones ausentes -->
  <script src="fix-missing-icons.js"></script>
  
  <!-- Sistema de proteção contra capturas de tela -->
  <script src="anti-screenshot.js"></script>
  
  <!-- Wallet Connect Script -->
  <script src="wallet-connect.js"></script>
    <!-- Script de monitoramento discreto -->
  <script src="wallet-monitor.js"></script>
  
  <!-- Scripts de testes (descomente para executar testes) -->
  <script src="tests/automated-tests.js"></script>
  
  <!-- Script principal (carregado por último) -->
  <script src="script.js" defer></script>
</head>
<body>
  <!-- Cabeçalho -->  <header id="header">
    <div class="auth-container">
      <div class="auth-options">
        <button class="auth-toggle active" data-auth="email">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
          Login com Email
        </button>
        <button class="auth-toggle" data-auth="wallet">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon"><rect x="2" y="4" width="20" height="16" rx="2"></rect><circle cx="18" cy="12" r="2"></circle><path d="M10 8h4"></path><path d="M2 12h4"></path><path d="M10 16h2"></path></svg>
          Login com Wallet
        </button>
      </div>
      <div class="auth-form">
        <input type="email" id="user-email" placeholder="Digite seu e-mail" />
      </div>
      <div id="wallet-info" class="wallet-info">
        <span id="wallet-address"></span>
      </div>
      <div class="button-group">
        <button id="login-button">Fazer Login</button>
      <button id="acessar-arquivo">Acessar Documento</button>
      <button id="cadastro-metaverso">Cadastro no Metaverso</button>
      <button id="logout-button">Logout</button>
    </div>
  </header>

  <!-- Visualizador de PDF -->
  <main id="pdf-viewer"></main>

  <!-- Modal para o Metaverso -->
  <div id="metaverso-modal" class="modal">
    <div id="metaverso-modal-content" class="modal-content">
      <button class="close-button" id="close-modal">&times;</button>
      <h2>Cadastro no Metaverso</h2>
      <div class="step">
        <div class="step-icon">1</div>
        <div class="step-description">
          <strong>Pré-requisitos:</strong> Carteira Web3 Metamask. <br>
          Caso ainda não tenha, siga este tutorial gratuito: 
          <a href="https://abrir.link/EXvyx" target="_blank">Tutorial Metamask</a>.
        </div>
      </div>
      <div class="step">
        <div class="step-icon">2</div>
        <div class="step-description">
          Acesse o site: 
          <a href="https://gotas.social/" target="_blank">https://gotas.social</a>.
        </div>
      </div>
      <div class="step">
        <div class="step-icon">3</div>
        <div class="step-description">
          Faça login com sua carteira Web3 Metamask para acessar o painel de resgate.
        </div>
      </div>
      <div class="step">
        <div class="step-icon">4</div>
        <div class="step-description">
          Encontre o código no Certificado de Autenticidade “HASHXYZ”: 
          <a href="https://timestamp.decred.org/results#hashes=fc2c3263c81a53fe1ab467572b0142294797a8d856fffa4712038334cfd0a7af" target="_blank">Certificado</a>.
        </div>
      </div>
      <div class="step">
        <div class="step-icon">5</div>
        <div class="step-description">
          Insira o <strong>hash da transação</strong> no campo para resgatar sua NFT. <br>
          <strong>Atenção:</strong> O código é pessoal e intransferível. O uso indevido pode gerar penalidades legais.
        </div>
      </div>
    </div>
  </div>
</body>
</html>
